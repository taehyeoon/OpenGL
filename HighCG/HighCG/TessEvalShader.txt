#version 400 core

layout(isolines, equal_spacing) in;

void main(){
	float u = gl_TessCoord.x;

	vec4 pos0 = gl_in[0].gl_Position;
	vec4 pos1 = gl_in[1].gl_Position;
	vec4 pos2 = gl_in[2].gl_Position;
	vec4 pos3 = gl_in[3].gl_Position;

	float b0 = (1. - u) * (1. - u) * (1. - u);
	float b1 = 3. * u * (1. - u) * (1. - u);
	float b2 = 3. * u * u * (1. - u);
	float b3 = u * u * u;

	gl_Position = b0 * pos0 + b1 * pos1 + b2 * pos2 + b3 * pos3;
}